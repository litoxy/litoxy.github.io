<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>计算器 | Lito | 一个爱跑步的程序员的碎碎念</title>

  
  <meta name="author" content="Lito">
  

  
  <meta name="description" content="18岁考上了大学,以为获得了自由。24岁大学毕业,以为财务自由了。如今,才发现。追求自由就是不自由">
  

  
  
  <meta name="keywords" content="Tools">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="提成计算器"/>

  <meta property="og:site_name" content="Lito"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Lito" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Lito</a>
    </h1>
    <p class="site-description">一个爱跑步的程序员的碎碎念</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>计算器</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/12/26/tools/" rel="bookmark">
        <time class="entry-date published" datetime="2023-12-26T11:16:28.000Z">
          2023-12-26
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <!-- 引入 WeUI CDN 链接 -->
    <link crossorigin="anonymous" integrity="sha512-Rstencoi9qmcbpxZWAO/f6OxbJWSCZsCiNTmieHobMmQ6QZSTEeVVvrgeDvWhGiH6qmnkxtJ5iYVHYjbsuumxA==" href="https://lib.baomitu.com/weui/2.4.4/style/weui.min.css" rel="stylesheet">
</head>

<body>


    <div class="page">
        <div class="weui-form">

            <div class="weui-cells__title">计算器</div>
            <div class="weui-cells weui-cells_form">
                <div class="weui-cell weui-cell_active">
                    <div class="weui-cell__hd"><label class="weui-label">利润</label></div>
                    <div class="weui-cell__bd">
                        <input id="js_input" class="weui-input" placeholder="请输入利润,必须是数字哦~" />
                    </div>
                </div>
               <div class="weui-cell weui-cell_active">
                    <div class="weui-cell__hd"><label class="weui-label">提成</label></div>
                    <div class="weui-cell__bd"  id="iosDialog2bd">
                       
                    </div>
                </div>
            </div>
          
        </div>


        <!-- <div class="js_dialog" role="dialog" aria-hidden="true" aria-modal="true" aria-labelledby="js_title2" id="iosDialog2" style="display: none;">
            <div class="weui-mask"></div>
            <div class="weui-dialog">
                <div class="weui-dialog__bd" id="iosDialog2bd"></div>
                <div class="weui-dialog__ft">
                    <a role="button" href="javascript:" class="weui-dialog__btn weui-dialog__btn_primary">已阅</a>
                </div>
            </div>
        </div> -->
    </div>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script type="text/javascript">
        function actionCalc(sales = 0) {
            const max = 100000000;
            if (sales > max) {
                // console.log("^ ^ 666");
                $('#iosDialog2bd').html("别吹~你能赚这么多？")
                return;
            }

            const config = [{
                start: 0,
                end: 10000,
                brokerage: 0,
            }, {
                start: 10000,
                end: 20000,
                brokerage: 0.1,
            }, {
                start: 20000,
                end: 50000,
                brokerage: 0.15,
            }, {
                start: 50000,
                end: max,
                brokerage: 0.2,
            }, ];
            const reversedConfig = config.reverse();
            let res = 0;

            for (const c of reversedConfig) {
                const {
                    start,
                    end,
                    brokerage
                } = c;
                let diff = (sales - start) * brokerage;

                if (diff <= 0) {
                    diff = 0;
                } else {
                    sales -= sales - start;
                }

                res += diff;
            }
            return Math.round(res);
        }
        $(function() {
            var $toast = $('#js_toast');
            var $input = $('#js_input');
            var $iosDialog2 = $('#iosDialog2');
            $input.on('input', function() {
                if ($input.val()) {
                    $('#showTooltips').removeClass('weui-btn_disabled');
                } else {
                    $('#showTooltips').addClass('weui-btn_disabled');
                }
            });

            $('#iosDialog2').on('click', '.weui-dialog__btn', function() {
                $(this).parents('.js_dialog').fadeOut(200);
                $(this).parents('.js_dialog').attr('aria-hidden', 'true');
                $(this).parents('.js_dialog').removeAttr('tabindex');
            });
            $('#showTooltips').on('click', function() {
                if ($(this).hasClass('weui-btn_disabled')) return;

                // toptips的fixed, 如果有`animation`, `position: fixed`不生效
                $('.page.cell').removeClass('slideIn');
                var res = actionCalc($input.val())
                $('#iosDialog2bd').html(res)
                $iosDialog2.fadeIn(200);
                $iosDialog2.attr('aria-hidden', 'false');
                $iosDialog2.attr('tabindex', '0');
                $iosDialog2.trigger('focus');
            });
        });
    </script>


</body>

</html>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Tools/">Tools</a>
    </span>
    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2023 Lito
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>
